/**
 * Copyright (C) 2011 - Maniar Technologies Pvt Ltd
 * Desigined By: Mohamed Aamir Maniar
 *
 * */

Object.create=Object.create||function(b){function a(){}a.prototype=b;return new a()};Object.getPrototypeOf=Object.getPrototypeOf||function(){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(a){return a.__proto__}}else{Object.getPrototypeOf=function(a){return a.constructor.prototype}}};Array.prototype.indexOf=Array.prototype.indexOf||function(c,d){for(var b=(d||0),a=this.length;b<a;b+=1){if(this[b]===c){return b}}return -1};String.trim=String.trim||function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};(function(a,d){var k={},e=[],j=[],g,b;k.version="1.0.0";k.create=function h(r){var q={},m={},p,o,i;if(typeof r==="string"){q.rootName=r;q.version="1.0.0"}else{r=r||{};q.rootName=r.rootName||"framework";q.version=r.version||"1.0.0"}m.version=q.version;m.name=q.rootName;m.typeHandlers={};m.config=function n(s){return q[s]};for(g=0,b=e.length;g<b;g+=1){p=e[g];o=p.info.name;if(m[o]!==d){throw new Error('Plugin with the name "'+p.name+'" already loaded.')}if(typeof p==="function"){p(m,q);p.initialized=true}}return m};k.plugins={};k.plugins.register=function l(i){if(typeof i==="function"||typeof i==="object"){e.push(i);return}throw new Error("Invalid plugin type.")};k.plugins.getNames=function c(){var o=[],n,m;for(n=0,m=e.length;n<m;n+=1){o.push(e[n].info.name)}return o};k.plugins.getAll=function f(){var n=[],o,m;for(o=0,m=e.length;o<m;o+=1){n.push(e[o])}return n};a.FrameworkFactory=k})(this);(function(global,undefined){function classes($f,config){var initializing=true,fnTest=/xyz/.test(function(){xyz})?/\bbase\b/:/.*/,Class;Class=function(prop,parent){var hasProp=Object.prototype.hasOwnProperty,proto,key,Class,__super__,funcString;parent=parent||Object;prop=prop||{};initializing=true;proto=new parent;initializing=false;if(prop.type===undefined){Class=function Class(){if(!(this instanceof Class)){throw new Error("Class used as function.")}if(initializing===false&&this.init!==undefined){this.init.apply(this,arguments)}}}else{funcString=prop.type+" = function "+prop.type+"() {                     if (!(this instanceof Class)) {                         throw new Error('Class used as function.');                     }                     if (initializing === false && this.init !== undefined) {                         this.init.apply(this, arguments);                     }                 }";Class=eval(funcString)}for(key in parent){if(hasProp.call(parent,key)){Class[key]=parent[key]}}__super__=parent.prototype;Class.prototype=proto;Class.prototype.constructor=Class;Class.__super__=__super__;Class.attach=function attach(prop){var item,type,val,processed,typeHandler;for(key in prop){if(!hasProp.call(prop,key)){continue}item=prop[key];type=typeof item;val=item;processed=false;if(type==="object"&&item.type!==undefined){typeHandler=$f.typeHandlers[item.type];if(typeHandler!==undefined){typeHandler(Class,key,item);processed=true}}else{if(type==="function"&&typeof __super__[key]==="function"&&fnTest.test(item)){proto[key]=(function(key,fn){return function(){this.base=function(){__super__[key].apply(this,arguments)};var ret=fn.apply(this,arguments);delete this.base;return ret}})(key,item);processed=true}}if(!processed){proto[key]=val}Class.__meta__[key]=item}};Class.__meta__={};Class.attach(prop);return Class};$f.Class=Class}classes.toString=function(){return"classes"};classes.info={name:"classes"};FrameworkFactory.plugins.register(classes)})(this);(function(b,c){function a(e,f){var g=function(h,i){return{type:"attribute",defaultValue:h,options:i}},d=function(h,j,i){var k=h.prototype,l="_"+j;k[j]=i.defaultValue};e.attribute=g;e.attr=g;e.typeHandlers.attribute=d}a.info={name:"attributes"};a.toString=function(){return a.info.name};FrameworkFactory.plugins.register(a)})(this);(function(b,c){function a(d,e){d.event=function(){return{type:"event"}};var f=function(g,i,h){var j=g.prototype;j[i]=function(k){var l="_"+i;if(this[l]===c){this[l]=[]}this[l].push(k)};j[i].loadFromJSON=function(n,m,l){n[m].call(n,l)};if(j.on===c){j.on=function(p,n){var o=p.split(" "),m,k,l;for(m=0,k=o.length;m<k;m+=1){l=String.trim(o[m]);if(this[l]!==c){this[l](n)}}};j.trigger=function(l,m){var o=this["_"+l],p,n,k;if(o===c||o.length===0){return this}m=m||{};m.eventName=l;for(n=0,k=o.length;n<k;n+=1){p=o[n];if(p.call(this,m)===false){break}}return this};j.off=function(l,n){var k=this["_"+l],m=k.indexOf(n);if(m!==-1){k.splice(m,1)}}}};d.typeHandlers.event=f}a.info={name:"events"};a.toString=function(){return a.info.name};FrameworkFactory.plugins.register(a)})(this);(function(b,d){function a(g,h){var j=function j(k,l){l=l||{};return{type:"property",defaultValue:k,readonly:false,silent:l.silent||false,get:l.get,set:l.set}},e=function e(k){if(k.get===d||k.set===d){throw new Error("Required options missing, please check get and set functions supplied.")}return{type:"property",defaultValue:d,readonly:false,silent:k.silent||false,get:k.get,set:k.set}},f=function f(k,l){l=l||{};return{type:"readonly",defaultValue:k,readonly:true,silent:false,get:l.get}},i=function(l,x,z){var p=l.prototype,o,k,q=z.readonly,s=z.silent||false,u=z.get,n=z.set,t="_"+x;p[t]=z.defaultValue;if(p.propertyChanged===d){l.attach({propertyChanging:g.event(),propertyChanged:g.event(),triggerPropertyChanging:function y(B,C){var A={propertyName:x,oldValue:B,newValue:C};this.trigger("propertyChanging",A)},triggerPropertyChanged:function v(B,C){var A={propertyName:x,oldValue:B,newValue:C};this.trigger("propertyChanged",A)}})}o=u||function m(){return this[t]};if(n!==d){if(s){k=n}else{k=function(B){var A=this[x],C;if(A===B){return}C={propertyName:x,oldValue:A,newValue:B};this.trigger("propertyChanging",C);n.call(this,B);this.trigger("propertyChanged",C)}}}else{if(q===true){k=function r(){throw new Error('You are not allowed to write to readonly attribute "'+x+'".')}}else{if(s){k=function(A){this[t]=A}}else{k=function w(B){var A=this[t],C;if(A===B){return}C={propertyName:x,oldValue:A,newValue:B};this.trigger("propertyChanging",C);this[t]=B;this.trigger("propertyChanged",C)}}}}if(Object.defineProperty){Object.defineProperty(p,x,{get:o,set:k})}else{if(p.__defineGetter__!==d){p.__defineGetter__(x,o);p.__defineSetter__(x,k)}}};g.property=j;g.readonly=f;g.typeHandlers.property=i;g.typeHandlers.readonly=i}a.info={name:"properties"};a.toString=function c(){return a.info.name};FrameworkFactory.plugins.register(a)})(this);(function(b,d){function a(e,g){e.utils={equals:function(j,i){var h;if(j===i){return true}for(h in j){if(i[h]===d){return false}var l=j[h];var k=i[h];if(l!==k){return false}}for(h in i){if(j[h]===d){return false}}return true},clone:function(i,h){h=h||false;throw new Error("Not implemented error.")},loadFromJSON:function(n,k,i){i=i||{};var h=i.setFunctions||false;for(var j in k){if(k.hasOwnProperty[j]===false){continue}var m=typeof n[j];var l=k[j];switch(m){case"object":if(n[j].constructor.loadFromJSON!==d){n[j].constructor.loadFromJSON(n,j,l)}else{if(n[j] instanceof Array){n[j]=l}else{_framework.Utils.loadFromJSON(n[j],l)}}break;case"function":if(n[j].loadFromJSON!==d){n[j].loadFromJSON(n,j,l)}else{n[j]=l}break;default:n[j]=l}}},exportToJSON:function f(i){var h={};for(key in i){}},isFunction:function(h){return typeof h==="function"},isNumber:function(h){return typeof h==="number"},isUndefined:function(h){return typeof h==="undefined"},isString:function(h){return typeof val==="string"},isDate:function(h){return(typeof h==="object")&&(h instanceof Date===true)},simpleGuid:function(h){function i(){return(((1+Math.random())*65536)|0).toString(16).substring(1)}return(i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i())},emptyFn:function(){},"undefined":d}}a.info={name:"utils"};a.toString=function c(){return a.info.name};FrameworkFactory.plugins.register(a)})(this);(function(b,d){function a(e,g){e.collections={};var h=e.collections;h.MapList=e.Class({length:e.readonly(0),keyName:"id",validator:d,itemBeforeAdd:e.event(),itemAdd:e.event(),itemBeforeRemove:e.event(),itemRemoved:e.event(),itemBeforeSet:e.event(),itemSet:e.event(),init:function(){this._items=[];this._keys=[];this._map={};if(arguments.length>0){this.add.apply(this,arguments)}},add:function(){var n=this._items,q=this._keys,j=this._map,p=this.keyName,r,o;if(arguments[0] instanceof Array){this.add.apply(this,arguments[0]);return}for(var k=0,l=arguments.length;k<l;k++){r=arguments[k];var m={item:r,act:true};this.trigger("itemBeforeAdd",m);if(m.act===false){continue}if(typeof r==="object"&&r[p]!==d){o=r[p];if(typeof o==="function"){o=o()}if(o!==d){if(j[o]!==d){throw new Error("Item with this key ["+o+"] already exists.")}q.push(o);j[o]=r}}this._length=n.push(r);this.trigger("itemAdd",{item:r})}return this},addList:function(){var m=arguments[0];if(m instanceof Array){this.add.apply(this,m)}var k=[];for(var l=0,j=arguments.length;l<j;l++){k.push(m[l].get(l))}this.add.apply(this,k)},get:function(j){if(typeof j==="number"){return this._items[j]}return this._map[j]},replace:function(n,m){var k,l,j;j=this.findIndexKey(n);k=j[0];l=j[1];if(k!=-1){this._items[k]=m}if(l!==d){this.map[l]=m}},findIndexKey:function(l){var j,k;if(typeof l==="number"){j=l;k=this._keys[j]}else{j=this._keys.indexOf(l);k=l}if(j<0||j>=this.length){throw new Error("Index ["+j.toString()+"] out of range.")}return[j,k]},findIndexKeyByItem:function(k){var j=this._items.indexOf(k);return findIndexKey(j)},remove:function(m){var j=this.findIndexKey(m),k=j[0],l=j[1];if(k<0){this._items.splice(k,1);this._keys.splice(k,1)}if(l!==d){delete this._map[l]}return this},findKeyOrIndex:function(j){if(typeof j==="number"){return this.keys[this.keyName]}return this._keys.indexOf(j)},clear:function(){this._items=[];this._keys=[];this._map={}},indexOf:function(j){return this._items.indexOf(j)},toArray:function(){return this._items},each:function(n,m){var k,l,j;k=this._items;if(m===d){m=this}for(l=0,j=k.length;l<j;l++){n.call(m,k[l])}return this}},Object);h.MapList.loadFromJSON=function i(m,j,l){var k=m[j];if(k instanceof h.MapList===false){throw new Error('Operation "set" not supported on this object.')}k.clear();if(l instanceof Array||l instanceof h.MapList){k.add.apply(k,l)}else{if(l.$type!==d){}k.add(l)}};h.MapList.exportToJSON=function f(o){var l=[];var k=o.toArray();for(var m=0,j=o.length;m<j;m++){var n=k[m];l.push(e.utils.toJson(n))}return l};h.ObservableMapList=e.Class({itemBeforeAdd:e.event(),itemAdded:e.event(),itemBeforeRemove:e.event(),itemRemoved:e.event(),itemBeforeSet:e.event(),itemSet:e.event(),init:function(){this._list=new h.MapList();_list.add.apply(_list,arguments)},add:function(){}},h.MapList)}a.info={name:"collections"};a.toString=function c(){return a.info.name};FrameworkFactory.plugins.register(a)})(this);
