/**
 * Copyright (C) 2011 - Maniar Technologies Pvt Ltd
 * Desigined By: Mohamed Aamir Maniar
 *
 * */

Object.create=Object.create||function(b){function a(){}a.prototype=b;return new a()};Object.getPrototypeOf=Object.getPrototypeOf||function(){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(a){return a.__proto__}}else{Object.getPrototypeOf=function(a){return a.constructor.prototype}}};Array.prototype.indexOf=Array.prototype.indexOf||function(c,d){for(var b=(d||0),a=this.length;b<a;b+=1){if(this[b]===c){return b}}return -1};String.trim=String.trim||function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};(function(a,d){var j={},e=[],g,b;j.version="1.0.0";j.create=function h(o){var p={},q={},t=null,m,i,s;if(typeof o==="string"){p.framework=o;p.version="1.0.0";p.noConflict=false}else{o=o||{};p.framework=o.framework;p.version=o.version||"1.0.0";p.noConflict=(o.noConflict!==d)?o.noConflict:false;for(s in o){if(o.hasOwnProperty(s)===true){if(s in p===false){p[s]=o[s]}}}}if(p.noConflict===true){if(p.framework===d){throw new Error("noConfig functionality is only supported if framework name is supplied.")}t=a[p.framework];if(t===d||(t.version===p.version)){q.noConflict=function n(){return q}}else{q.noConflict=function n(){return t}}}q.version=p.version;q.framework=p.framework;q.typeHandlers={};q.config=function l(v,u){if(p[v]!==d){return p[v]}return u};q.config.set=function r(u){p[s]=u};for(g=0,b=e.length;g<b;g+=1){m=e[g];i=m.info.name;if(q[i]!==d){throw new Error('Plugin with the name "'+m.name+'" already loaded.')}if(typeof m==="function"){m(q);m.initialized=true}}return q};j.plugins={};j.plugins.register=function k(i){if(typeof i==="function"||typeof i==="object"){e.push(i);return}throw new Error("Invalid plugin type.")};j.plugins.getNames=function c(){var n=[],m,l;for(m=0,l=e.length;m<l;m+=1){n.push(e[m].info.name)}return n};j.plugins.toArray=function f(){return e.slice()};a.FrameworkFactory=j})(this);(function(b,d){function a(e){var f={func:function h(o){return typeof o==="function"||o instanceof Function===true},string:function m(o){return typeof o==="string"||o instanceof String===true},number:function k(o){return typeof o==="number"||o instanceof Number===true},primitive:function l(o){return f.string(o)||f.number(o)},undef:function i(o){return o===d},nullOrUndef:function n(o){return o===d||o===null},date:function g(o){return o instanceof Date===true},plainObject:function(o){if(o===d||o===null){return false}return((typeof o==="object")&&(o.constructor===Object))},concreteObject:function(o){return(f.primitive(o)||f.date(o)||f.nullOrUndef(o)||f.array(o))===false},array:function(o){return o instanceof Array},inBrowser:function j(){return window!==d&&b===window}};e.is=f}a.info={name:"is"};a.toString=function c(){return a.info.name};b.FrameworkFactory.plugins.register(a)})(this);(function(global,undefined){function classes($f){var initializing=true,fnTest=/xyz/.test(function(){xyz})?/\bbase\b/:/.*/,defaultBaseClass=$f.config("defaultBaseClass"),Class;Class=function(prop,parent){var hasProp=Object.prototype.hasOwnProperty,proto,key,Class,__super__,funcString;if($f[defaultBaseClass]!==undefined){parent=parent||$f[defaultBaseClass]}else{parent=parent||Object}prop=prop||{};initializing=true;proto=new parent;initializing=false;if(prop.type===undefined||typeof prop.type!=="string"){Class=function Class(){if(!(this instanceof Class)){throw new Error("Class used as function.")}if(initializing===false&&this.init!==undefined){this.init.apply(this,arguments)}}}else{funcString="Class = function "+prop.type+"() {                     if (!(this instanceof Class)) {                         throw new Error('Class used as function.');                     }                     if (initializing === false && this.init !== undefined) {                         this.init.apply(this, arguments);                     }                 }";Class=eval(funcString)}for(key in parent){if(hasProp.call(parent,key)){Class[key]=parent[key]}}__super__=parent.prototype;Class.prototype=proto;Class.prototype.constructor=Class;Class.__super__=__super__;Class.attach=function attach(prop){var item,type,val,processed,typeHandler;for(key in prop){if(hasProp.call(prop,key)){item=prop[key];type=typeof item;val=item;processed=false;if(type==="object"&&item!==null&&item.type!==undefined){typeHandler=$f.typeHandlers[item.type];if(typeHandler!==undefined){typeHandler(Class,key,item);processed=true}}else{if(type==="function"&&typeof __super__[key]==="function"&&fnTest.test(item)){proto[key]=(function(key,fn){return function(){this.base=function(){__super__[key].apply(this,arguments)};var ret=fn.apply(this,arguments);delete this.base;return ret}})(key,item);processed=true}}if(!processed){proto[key]=val}Class.__meta__[key]=item}}};Class.__meta__={};Class.attach(prop);return Class};$f.Class=Class}classes.toString=function(){return"classes"};classes.info={name:"classes"};FrameworkFactory.plugins.register(classes)})(this);(function(b,c){function a(e){var f=function(g,h){return{type:"attribute",defaultValue:g,options:h}},d=function(g,i,h){var j=g.prototype;j[i]=h.defaultValue};e.attribute=f;e.attr=f;e.typeHandlers.attribute=d}a.info={name:"attributes"};a.toString=function(){return a.info.name};b.FrameworkFactory.plugins.register(a)})(this);(function(b,c){function a(d){d.event=function(){return{type:"event"}};var e=function(f,g){var h=f.prototype;h[g]=function(i){var j="_"+g;if(!d.is.func(i)){throw new Error("Only functions can be registered as event handler")}if(this[j]===c){this[j]=[]}this[j].push(i);return this};h[g].importObject=function(l,j,i){l[j].call(l,i)};if(h.on===c){h.on=function(o,m){var n=o.split(" "),l,j,k;for(l=0,j=n.length;l<j;l+=1){k=String.trim(n[l]);if(this[k]!==c){this[k](m)}}};h.trigger=function(k,l){var n=this["_"+k],o,m,j;if(n===c||n.length===0){return this}l=l||{};l.eventName=k;for(m=0,j=n.length;m<j;m+=1){o=n[m];if(o.call(this,l)===false){break}}return this};h.off=function(j,l){var i=this["_"+j],k=i.indexOf(l);if(k!==-1){i.splice(k,1)}}}};d.typeHandlers.event=e}a.info={name:"events"};a.toString=function(){return a.info.name};b.FrameworkFactory.plugins.register(a)})(this);(function(b,d){function a(f){function g(l,k,j,m){m=m||function(){throw new Error('You are not allowed to write to readonly property "'+k+'".')};if(Object.defineProperty){Object.defineProperty(l,k,{get:j,set:m})}else{if(l.__defineGetter__!==d){l.__defineGetter__(k,j);l.__defineSetter__(k,m)}}}var i=function i(m){var j,n,l,p,k,o=true;if(typeof m==="object"){j=m.valueOf();if(typeof j!=="object"&&typeof j!=="function"){n=m.value;l=m.get}else{o=false;n=m.value;if(m.get!==d&&m.set===d){k=true;if(arguments[1]===true){o=true}}else{if(m.get===d&&m.set===d){throw new Error("Neither get nor set found in property declaration. This type of object is not currently supported.")}else{l=m.get;p=m.set}}}}else{if(typeof m==="function"){throw new Error("functions not supported as property default value.")}else{n=m;if(arguments[1]===true){o=true}}}m=m||{};return{type:"property",value:n,readonly:k,observable:o||false,get:m.get,set:m.set}},e=function e(l){var k={},j;if(f.is.plainObject(l)){k=l;l=(k.value!==d)?k.value:d;if(f.is.func(k.get)){j=k.get}}return{type:"readonly",value:l,readonly:true,observable:false,get:j,set:d}},h=function(w,A,m){var t=w.prototype,j,v,r=m.readonly,p=m.observable||false,n=m.get,x=m.set,o="_"+A,u=m.value,k={},l=A+"changing",z=A+"change";if(n!==d&&x===d){if(u!==d){t[o]=m.value}}else{t[o]=m.value}k[l]=f.event();k[z]=f.event();w.attach(k);j=n||function y(){return this[o]};if(r){v=function s(){throw new Error('You are not allowed to write to readonly property "'+A+'".')}}else{if(x!==d){if(!p){v=x}else{v=function(C){var B=this[A],D;if(B===C){return}D={propertyName:A,oldValue:B,newValue:C};this.trigger(l,D);x.call(this,C);this.trigger(z,D)}}}else{if(!p){v=function(B){this[o]=B}}else{v=function q(C){var B=this[o],D;if(B===C){return}D={propertyName:A,oldValue:B,newValue:C};this.trigger(l,D);if(this.onPropertyChanging){this.onPropertyChanging(D)}this[o]=C;this.trigger(z,D);if(this.onPropertyChanged){this.onPropertyChanged(D)}}}}}if(Object.defineProperty){Object.defineProperty(t,A,{get:j,set:v})}else{if(t.__defineGetter__!==d){t.__defineGetter__(A,j);t.__defineSetter__(A,v)}}};f.attachProperty=g;f.property=i;f.readonly=e;f.typeHandlers.property=h;f.typeHandlers.readonly=h}a.info={name:"properties"};a.toString=function c(){return a.info.name};b.FrameworkFactory.plugins.register(a)})(this);(function(b,d){function a(e,g){e.utils={equals:function(m,l){var k,o,n,j,h;if(m===l){return true}for(k in m){if(l[k]===d){return false}o=m[k];n=l[k];if(e.is.func(k)){continue}if(e.is.primitive(o)){if(o instanceof Object){if(o.toString()!==n.toString()){return false}}else{if(o!==n){return false}}}else{if(e.is.date(o)){if(o.getTime()!==n.getTime()){return false}}else{if(e.is.array(o)){for(j=0,h=o.length;j<h;j+=1){if(e.utils.equals(o[j],n[j])===false){return false}}}else{if(e.utils.equals(o,n)===false){return false}}}}}for(k in l){if(m[k]===d){return false}}return true},deepCopy:function f(j){var i=[];function h(n){var o,m,l;if(i.indexOf(n)>=0){return n}else{i.push(n)}if(null===n||"object"!==typeof n){return n}if(n instanceof Date){o=new Date();o.setTime(n.getTime());return o}if(n instanceof Array){o=[];for(m=0,l=n.length;m<l;m+=1){o[m]=h(n[m])}return o}if(n instanceof Object){o=new n.constructor();for(var k in n){if(n.hasOwnProperty(k)===true){o[k]=h(n[k])}}return o}throw new Error("Unable to copy obj! Its type isn't supported.")}return h(j)},importObject:function(m,j,h){h=h||{};var i;for(i in j){if(j.hasOwnProperty[i]===true){var l=typeof m[i];var k=j[i];switch(l){case"object":if(m[i]===null){m[i]=k}else{if(m[i].constructor.importObject!==d){m[i].constructor.importObject(m,i,k)}else{if(m[i] instanceof Array){m[i]=k}else{e.Utils.importObject(m[i],k)}}}break;case"function":if(m[i].importObject!==d){m[i].importObject(m,i,k)}else{m[i]=k}break;default:m[i]=k}}}},simpleGuid:function(h){function i(){return(((1+Math.random())*65536)|0).toString(16).substring(1)}return(i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i())},emptyFn:function(){},"undefined":d}}a.info={name:"utils"};a.toString=function c(){return a.info.name};FrameworkFactory.plugins.register(a)})(this);
