/**
 * framework-factory
 * http://framework-factory.com/
 *
 * Copyright (c) 2013 Maniar Technologies Private Limited
 * Author Mohamed Aamir Maniar
 * Licensed under the MIT license.
 * https://framework-factory.com/LICENSE-MIT
 *
 **/

Object.create=Object.create||function(t){"use strict";function e(){}return e.prototype=t,new e},Object.getPrototypeOf=Object.getPrototypeOf||function(){"use strict";Object.getPrototypeOf="object"==typeof"test".__proto__?function(t){return t.__proto__}:function(t){return t.constructor.prototype}},Array.prototype.indexOf=Array.prototype.indexOf||function(t,e){"use strict";for(var n=e||0,r=this.length;r>n;n+=1)if(this[n]===t)return n;return-1},String.trim=String.trim||function(t){"use strict";return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},function(t,e){"use strict";var n,r,i,o,s=[];n=function(){function t(){}return new t}(),module!==e&&"object"==typeof module.exports?(o="node",module.exports=n):define!==e?(o="requirejs",define(function(){return n})):(o="browser",t.FrameworkFactory=n),n.global="node"===o?global:t,n.environment=o,n.version="1.0.0",n.create=function(t){var n,o,a,u,f={};if("string"==typeof t)f.name=t,f.version="1.0.0",f.noConflict=!1,n={};else{t=t||{},f.name=t.name||"framework",f.version=t.version||"1.0.0",f.noConflict=t.noConflict===e?!1:t.noConflict,n=f.root||{};for(u in t)t.hasOwnProperty(u)===!0&&u in f==!1&&(f[u]=t[u])}for(n.version=f.version,n.name=f.name,n.typeHandlers={},n.config=function(t,n){return f[t]!==e?f[t]:n},n.config.set=function(t){f[u]=t},r=0,i=s.length;i>r;r+=1){if(o=s[r],a=o.info.name,n[a]!==e)throw Error('Plugin with the name "'+o.name+'" already loaded.');"function"==typeof o&&(o(n),o.initialized=!0)}return n},n.plugins={},n.plugins.register=function(t){if("function"==typeof t||"object"==typeof t)return s.push(t),e;throw Error("Invalid plugin type.")},n.plugins.getNames=function(){var t,e,n=[];for(t=0,e=s.length;e>t;t+=1)n.push(s[t].info.name);return n},n.plugins.toArray=function(){return s.slice()},t.FrameworkFactory=n}(this),function(t,e){"use strict";function n(n){var r={func:function(t){return"function"==typeof t||t instanceof Function==!0},string:function(t){return"string"==typeof t||t instanceof String==!0},number:function(t){return"number"==typeof t||t instanceof Number==!0},primitive:function(t){return r.string(t)||r.number(t)},undef:function(t){return t===e},nullOrUndef:function(t){return t===e||null===t},date:function(t){return t instanceof Date==!0},plainObject:function(t){return t===e||null===t?!1:"object"==typeof t&&t.constructor===Object},concreteObject:function(t){return(r.primitive(t)||r.date(t)||r.nullOrUndef(t)||r.array(t))===!1},array:function(t){return t instanceof Array},inBrowser:function(){return window!==e&&t===window}};n.is=r}n.info={name:"is"},n.toString=function(){return n.info.name},t.FrameworkFactory.plugins.register(n)}(this),function(global,undefined){"use strict";function plugin($f){var initializing=!0,fnTest=/xyz/.test(function(){})?/\bbase\b/:/.*/,defaultBaseClass=$f.config("defaultBaseClass"),Class;Class=function(prop,parent){var hasProp=Object.prototype.hasOwnProperty,proto,key,Class,__super__,funcString;parent=$f[defaultBaseClass]!==undefined?parent||$f[defaultBaseClass]:parent||Object,prop=prop||{},initializing=!0,proto=new parent,initializing=!1,prop.type===undefined||"string"!=typeof prop.type?Class=function Class(){if(!(this instanceof Class))throw Error("Class used as function.");initializing===!1&&this.init!==undefined&&this.init.apply(this,arguments)}:(funcString="Class = function "+prop.type+"() {                     if (!(this instanceof Class)) {                         throw new Error('Class used as function.');                     }                     if (initializing === false && this.init !== undefined) {                         this.init.apply(this, arguments);                     }                 }",Class=eval(funcString));for(key in parent)hasProp.call(parent,key)&&(Class[key]=parent[key]);return __super__=parent.prototype,Class.prototype=proto,Class.prototype.constructor=Class,Class.__super__=__super__,Class.attach=function attach(t){var e,n,r,i,o;for(key in t)hasProp.call(t,key)&&(e=t[key],n=typeof e,r=e,i=!1,"object"===n&&null!==e&&e.type!==undefined?(o=$f.typeHandlers[e.type],o!==undefined&&(o(Class,key,e),i=!0)):"function"===n&&"function"==typeof __super__[key]&&fnTest.test(e)&&(proto[key]=function(t,e){return function(){this.base=function(){__super__[t].apply(this,arguments)};var n=e.apply(this,arguments);return delete this.base,n}}(key,e),i=!0),i||(proto[key]=r),Class.__meta__[key]=e)},Class.__meta__={},Class.attach(prop),Class},$f.Class=Class}plugin.toString=function(){return"plugin"},plugin.info={name:"plugin"},FrameworkFactory.plugins.register(plugin)}(this),function(t){"use strict";function e(t){var e=function(t,e){return{type:"attribute",defaultValue:t,options:e}},n=function(t,e,n){var r=t.prototype;r[e]=n.defaultValue};t.attribute=e,t.attr=e,t.typeHandlers.attribute=n}e.info={name:"plugin"},e.toString=function(){return e.info.name},t.FrameworkFactory.plugins.register(e)}(this),function(t,e){"use strict";function n(t){t.event=function(){return{type:"event"}};var n=function(n,r){var i=n.prototype;i[r]=function(t){return this.on(r,t),this},i[r].importObject=function(t,e,n){t[e].call(t,n)},i.on===e&&(i.on=function(n,r){var i,o,s,a,u=n.split(" ");if(!t.is.func(r))throw Error("Only functions can be registered as event handler");for(i=0,o=u.length;o>i;i+=1)s=String.trim(u[i]),a="_"+s,this[a]===e&&(this[a]=[]),this[a].push(r);return this},i.trigger=function(t,n){var r,i,o=this["_"+t];if(o===e||0===o.length)return this;for(n=n||{},n.eventName=t,i=0;o.length>i&&(r=o[i],r.call(this,n)!==!1);i+=1);return this},i.off=function(t,n){var r,i=this["_"+t];if(i!==e)return r=i.indexOf(n),-1!==r&&i.splice(r,1),this})};t.typeHandlers.event=n}n.info={name:"plugin"},n.toString=function(){return n.info.name},t.FrameworkFactory.plugins.register(n)}(this),function(t,e){"use strict";function n(t){function n(t,n,r,i){i=i||function(){throw Error('You are not allowed to write to readonly property "'+n+'".')},Object.defineProperty?Object.defineProperty(t,n,{get:r,set:i}):t.__defineGetter__!==e&&(t.__defineGetter__(n,r),t.__defineSetter__(n,i))}var r=function r(t){var n,r,i,o,s,a=!0;if("object"==typeof t)if(n=t.valueOf(),"object"!=typeof n&&"function"!=typeof n)r=t.value,i=t.get;else if(a=!1,r=t.value,t.get!==e&&t.set===e)s=!0,arguments[1]===!0&&(a=!0);else{if(t.get===e&&t.set===e)throw Error("Neither get nor set found in property declaration. This type of object is not currently supported.");i=t.get,o=t.set}else{if("function"==typeof t)throw Error("functions not supported as property default value.");r=t,arguments[1]===!0&&(a=!0)}return t=t||{},{type:"property",value:r,readonly:s,observable:a||!1,get:t.get,set:t.set}},i=function i(n){var r,i={};return t.is.plainObject(n)&&(i=n,n=i.value!==e?i.value:e,t.is.func(i.get)&&(r=i.get)),{type:"readonly",value:n,readonly:!0,observable:!1,get:r,set:e}},o=function(n,r,i){var o,s,a=n.prototype,u=i.readonly,f=i.observable||!1,c=i.get,p=i.set,l="_"+r,y=i.value,g={},h=r+"changing",d=r+"change";c!==e&&p===e?y!==e&&(a[l]=i.value):a[l]=i.value,g[h]=t.event(),g[d]=t.event(),n.attach(g),o=c||function(){return this[l]},s=u?function(){throw Error('You are not allowed to write to readonly property "'+r+'".')}:p!==e?f?function(t){var e,n=this[r];n!==t&&(e={propertyName:r,oldValue:n,newValue:t},this.trigger(h,e),p.call(this,t),this.trigger(d,e))}:p:f?function(t){var e,n=this[l];n!==t&&(e={propertyName:r,oldValue:n,newValue:t},this.trigger(h,e),this.onPropertyChanging&&this.onPropertyChanging(e),this[l]=t,this.trigger(d,e),this.onPropertyChanged&&this.onPropertyChanged(e))}:function(t){this[l]=t},Object.defineProperty?Object.defineProperty(a,r,{get:o,set:s}):a.__defineGetter__!==e&&(a.__defineGetter__(r,o),a.__defineSetter__(r,s))};t.attachProperty=n,t.property=r,t.readonly=i,t.typeHandlers.property=o,t.typeHandlers.readonly=o}n.info={name:"plugin"},n.toString=function(){return n.info.name},t.FrameworkFactory.plugins.register(n)}(this);