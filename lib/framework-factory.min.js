/**
 * ______                                           _     ______         _
 * |  ___|                                         | |    |  ___|       | |
 * | |_ _ __ __ _ _ __ ___   _____      _____  _ __| | __ | |_ __ _  ___| |_ ___  _ __ _   _
 * |  _| '__/ _` | '_ ` _ \ / _ \ \ /\ / / _ \| '__| |/ / |  _/ _` |/ __| __/ _ \| '__| | | |
 * | | | | | (_| | | | | | |  __/\ V  V / (_) | |  |   <  | || (_| | (__| || (_) | |  | |_| |
 * \_| |_|  \__,_|_| |_| |_|\___| \_/\_/ \___/|_|  |_|\_\ \_| \__,_|\___|\__\___/|_|   \__, |
 *                                                                                      __/ |
 *                                                                                     |___/
 *
 * version: 1.1
 * Framework Factory - A JavaScript factory framework for developing class libraries,
 * apps and frameworks
 * http://www.framework-factory.com
 *
 *
 * Architect and Lead Developer: Mohamed Aamir Maniar
 * Twitter: @aamironline
 * Facebook: http://www.facebook.com/aamironline
 *
 * Copyright (c) 2010 - 2016 - Maniar Technologies Private Limited - India
 * http://www.maniartech.com
 * Twitter: @maniartech
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.framework-factory.com/license
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 **/
!function(a,b){"use strict";var c,d=(Object.create||function(a){function b(){}return b.prototype=a,new b},Object.getPrototypeOf||function(){"object"==typeof"test".__proto__?Object.getPrototypeOf=function(a){return a.__proto__}:Object.getPrototypeOf=function(a){return a.constructor.prototype}},Array.prototype.indexOf||function(a,b){for(var c=b||0,d=this.length;d>c;c+=1)if(this[c]===a)return c;return-1},String.trim||function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});!function(a,b){function d(a){var d,e,f,g,h={},j=c.plugins.toArray();if("string"==typeof a)h.name=a,h.version="1.0.0",d={};else{a=a||{},h.name=a.name||"framework",h.version=a.version||"1.0.0",d=h.root||{};for(g in a)a.hasOwnProperty(g)===!0&&g in h==!1&&(h[g]=a[g])}for(d.version=h.version,d.name=h.name,d.environment=c.environment,d.config=function(a,c){return h[a]!==b?h[a]:c},d.config.set=function(){var a,b=arguments[0];if(1===arguments.length&&"object"==typeof b)for(a in b)b.hasOwnProperty(a)===!0&&(h[a]=b[a]);else 2===arguments.length&&(h[arguments[0]]=arguments[1])},i=0,iLen=j.length;i<iLen;i+=1){if(e=j[i],f=e.info?e.info.name:e.name,d[f]!==b)throw new Error('Plugin with the name "'+f+'" already loaded.');"function"==typeof e?e(d):"object"==typeof e&&e.load(d,c)}return d}c=function(){return new function(){}}(),c.version="1.1.0",c.create=function(a){return d(a)}}(this),c.environment=function(){function a(){this.commonJS="undefined"!=typeof module&&"object"==typeof module.exports,this.amd="undefined"!=typeof define&&"object"==typeof define.amd,this.browser="undefined"!=typeof window&&"object"==typeof window.document}return new a}(),c.plugins=function(){function a(){}var c=[];return a.prototype={register:function(a){var d=a.info?a.info.name:a.name;if("function"==typeof a||"object"==typeof a){if(d===b)throw new Error("Missing plugin name.");return void c.push(a)}throw new Error("Invalid plugin type.")},getNames:function(){var a,b,d,e=[];for(b=0,d=c.length;d>b;b+=1)a=c[b],e.push(a.name);return e},toArray:function(){return c.slice()}},new a}(),c.typeHandlers=function(){function a(){}var b={};return a.prototype={register:function(a){if("object"==typeof a)return void(b[a.type]=a);throw new Error("Invalid typeHandler.")},get:function(a){return b[a]},getTypes:function(){var a,c=[];for(a in b)b.hasOwnProperty(a)&&c.push(a);return c}},new a}(),function(a,b){function d(c,d){var e={func:function(a){return"function"==typeof a||a instanceof Function==!0},string:function(a){return"string"==typeof a||a instanceof String==!0},number:function(a){return"number"==typeof a||a instanceof Number==!0},primitive:function(a){return e.string(a)||e.number(a)},undef:function(a){return a===b},nullOrUndef:function(a){return a===b||null===a},date:function(a){return a instanceof Date==!0},regExp:function(a){return a instanceof RegExp==!0},plainObject:function(a){return a===b||null===a?!1:"object"==typeof a&&a.constructor===Object},concreteObject:function(a){return(e.primitive(a)||e.date(a)||e.regExp(a)||e.nullOrUndef(a)||e.array(a))===!1},array:function(a){return a instanceof Array},inBrowser:function(){return window!==b&&a===window}};c.is=e}c.plugins.register(d)}(this),function(a,b){function d(a){function d(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__base__=b.prototype,a}function e(a){var b,d,e,f,g=c.typeHandlers.getTypes();for(e=0,f=g.length;f>e;e+=1)b=g[e],d=c.typeHandlers.get(b),d.init&&d.init(a)}function f(a,c,d){var e,f;d=d===b?!0:d;for(e in a)a.hasOwnProperty(e)&&(f=a[e],d?c[e]=f:e in c==!1&&(c[e]=f))}function g(a){var b=a.__meta__,c={};a.constructor.__baseMeta__&&f(a.constructor.__baseMeta__,c),f(c,b,!1)}var h,i=/xyz/.test(function(){xyz})?/\bbase\b/:/.*/,j=a.config("defaultBaseClass"),k=a.config("requireNew",!1);h=function(f,h){var l,m,n,o=Object.prototype.hasOwnProperty,p=Object.create;return h=a[j]!==b?h||a[j]:h||Object,f=f||{},m=k?function(){if(this instanceof m==!1)throw new Error("Constructor used as function.");this.init!==b&&this.init.apply(this,arguments)}:function(){var a=null;return this instanceof m==!1?(a=p(m.prototype),a.init!==b&&a.init.apply(a,arguments),a):void(this.init!==b&&this.init.apply(this,arguments))},d(m,h),n=m.__base__,l=m.prototype,m.attach=function(d){var e,f,h,j,k,p;for(k in d)o.call(d,k)&&(e=d[k],f=typeof e,h=e,j=!1,a.is.plainObject(e)?(p=c.typeHandlers.get(e.type),p!==b&&p.handler!==b&&(p.handler(m,k,e),j=!0)):"function"===f&&"function"==typeof n[k]&&i.test(e)&&(l[k]=function(a,b){var c=function(){return n[a].apply(this,arguments)},d=function(){this.base=c;var a=b.apply(this,arguments);return this.base=null,a};return d}(k,e),j=!0),j||(l[k]=h),m.__meta__[k]=e);g(m)},m.extend=function(b){return a.Class(b,m)},m.__meta__={},m.__baseMeta__=m.__base__.constructor.__meta__,e(m),m.attach(f),m},a.Class=h}c.plugins.register(d)}(this),function(a,b){function d(a){var b=function(a,b){return{type:"attribute",defaultValue:a,meta:b}};a.attribute=b,a.attr=b,c.typeHandlers.register({type:"attribute",handler:function(a,b,c){var d=a.prototype;d[b]=c.defaultValue}})}c.plugins.register(d)}(this),function(a,b){function e(a){a.event=function(a){return{type:"event",config:a}},c.typeHandlers.register({type:"event",init:function(c){var e=c.prototype,f={},g=[];e.on=function(c,e){var h,i,j,k,l=c.toLowerCase().split(" ");if(!a.is.func(e))throw new Error("Only functions can be registered as event handler");for(h=0,i=l.length;i>h;h+=1)j=d(l[h]),k="_"+j,this[k]===b&&(this[k]=[]),this[k].push(e),f[j]===b&&(g.push(j),f[j]=!0);return this},e.trigger=function(a,c){var d,e,f=this["_"+a.toLowerCase()];if(f===b||0===f.length)return this;for(c=c||{},c.eventName=a,e=0;e<f.length&&(d=f[e],d.call(this,c)!==!1);e+=1);return this},e.off=function(a,c){var d,e=this["_"+a.toLowerCase()];if(e!==b)return c===b?(e.length=0,this):(d=e.indexOf(c),-1!==d&&e.splice(d,1),this)},e.unsubscribeAll=function(){var a,b=g,c=b.length;for(a=0;c>a;a+=1)this.off(b[a]);return this},e.subscribers=function(a){var b=this["_"+a.toLowerCase()];return b?b.slice():[]}},handler:function(a,b){var c=a.prototype;c[b]=function(a){return this.on(b,a),this},c[b].event=!0}})}c.plugins.register(e)}(this),function(a,b){function d(a){var b=function(a){return{type:"callback",meta:a}};a.callback=b,c.typeHandlers.register({type:"callback",handler:function(a,b,c){var d=a.prototype;d[b]=null}})}c.plugins.register(d)}(this),function(a,b){function d(a){function d(a,c,d,e){if(e=e||function(){throw new Error('Cannot assign to readonly property "'+c+'".')},Object.defineProperty)Object.defineProperty(a,c,{enumerable:!0,configurable:!0,get:d,set:e});else{if(a.__defineGetter__===b)throw new Error("Properties are not supported in current environment.");a.__defineGetter__(c,d),a.__defineSetter__(c,e)}}function e(a,b,c){d(a,b,c)}var f,g,h;f=function(c,d){var e,f;return a.is.plainObject(c)?(f=c.value,a.is.func(c.get)&&(e=c.get)):f=c,{type:"readonly",value:f,readonly:!0,get:e,set:b,config:d}},g=function(b){var c,d,e;if(a.is.plainObject(b)){if(c=b.value,d=b.get,e=b.set,d&&!e)return f(b)}else c=b;return{type:"property",readonly:!1,value:c,get:d,set:e}},h=function(a,c,e){var f,g,h=a.prototype,i=e.readonly,j=e.get,k=e.set,l="_"+c,m=e.value;i?f=j!==b?j:function(){return this[l]}:(f=j||function(){return this[l]},g=k||function(a){this[l]=a}),m!==b&&(h[l]=m),d(h,c,f,g)},a.attachProperty=d,a.attachReadonly=e,a.property=g,a.readonly=f,c.typeHandlers.register({type:"property",handler:h}),c.typeHandlers.register({type:"readonly",handler:h})}c.plugins.register(d)}(this),function(a,b){function d(a,c,d,e){if(Object.defineProperty)Object.defineProperty(a,c,{enumerable:!0,configurable:!0,get:d,set:e});else{if(a.__defineGetter__===b)throw new Error("Properties are not supported in current environment.");a.__defineGetter__(c,d),a.__defineSetter__(c,e)}}function e(a,b){return{type:"observable",value:a,config:b}}function f(a){a.observable=e,c.typeHandlers.register({type:"observable",init:function(b){var c=b.prototype;c.set=function(){var a,b,c,d,e=arguments[0],f={};if(1===arguments.length&&"object"==typeof e)for(a in e)e.hasOwnProperty(a)===!0&&this[a]!==e[a]&&(b="_"+a,c=this[a],d=e[a],this[b]=d,f[a]={oldValue:c,newValue:d});else 2===arguments.length&&(a=arguments[0],b="_"+a,c=this[a],d=arguments[1],c!==d&&(this[b]=d,f[a]={oldValue:c,newValue:d}));return this.onChange(f),this},c.onChange=function(a){return this.trigger("change",{changed:a}),this},b.attach({change:a.event()})},handler:function(a,b,c){var e,f,g=a.prototype,h="_"+b;g[h]=c.value,e=function(){return this[h]},f=function(a){var c,d=this[h];d!==a&&(this[h]=a,c={},c[b]={oldValue:d,newValue:a},this.onChange(c))},d(g,b,e,f)}})}c.plugins.register(f)}(this),c.environment.commonJS?module.exports=c:c.environment.amd?define(function(){return c}):a.FrameworkFactory=c}(this);