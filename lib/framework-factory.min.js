/**
 * ______                                           _     ______         _
 * |  ___|                                         | |    |  ___|       | |
 * | |_ _ __ __ _ _ __ ___   _____      _____  _ __| | __ | |_ __ _  ___| |_ ___  _ __ _   _
 * |  _| '__/ _` | '_ ` _ \ / _ \ \ /\ / / _ \| '__| |/ / |  _/ _` |/ __| __/ _ \| '__| | | |
 * | | | | | (_| | | | | | |  __/\ V  V / (_) | |  |   <  | || (_| | (__| || (_) | |  | |_| |
 * \_| |_|  \__,_|_| |_| |_|\___| \_/\_/ \___/|_|  |_|\_\ \_| \__,_|\___|\__\___/|_|   \__, |
 *                                                                                      __/ |
 *                                                                                     |___/
 *
 * version: 1.1
 * Framework Factory - A JavaScript factory framework for developing class libraries,
 * apps and frameworks
 * http://www.framework-factory.com
 *
 *
 * Architect and Lead Developer: Mohamed Aamir Maniar
 * Twitter: @aamironline
 * Facebook: http://www.facebook.com/aamironline
 *
 * http://www.maniartech.com
 * Twitter: @maniartech
 *
 * Copyright (c) 2011-2016 Maniar Technologies Private Limited (India)
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without restriction,
 * including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software,
 * and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 *
 **/
!function(a,b){"use strict";var c,d=Object.create||function(a){var b=function(){};return function(c,d){if(c!==Object(c)&&null!==c)throw TypeError("Argument must be an object, or null");b.prototype=c||{},d!==a&&Object.defineProperties(b.prototype,d);var e=new b;return b.prototype=null,null===c&&(e.__proto__=null),e}}(),e=(Object.getPrototypeOf||function(){"object"==typeof"test".__proto__?Object.getPrototypeOf=function(a){return a.__proto__}:Object.getPrototypeOf=function(a){return a.constructor.prototype}},Array.prototype.indexOf||function(a,b){for(var c=b||0,d=this.length;c<d;c+=1)if(this[c]===a)return c;return-1},String.trim||function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});return function(a,b){function d(a){var d,e,f,g,h,i,j={},k=c.plugins.toArray();if("string"==typeof a)j.name=a,j.version="1.0.0",d={};else{a=a||{},j.name=a.name||"framework",j.version=a.version||"1.0.0",d=j.root||{};for(g in a)a.hasOwnProperty(g)===!0&&g in j==!1&&(j[g]=a[g])}for(d.version=j.version,d.name=j.name,d.environment=c.environment,d.config=function(a,c){return j[a]!==b?j[a]:c},d.config.set=function(){var a,b=arguments[0];if(1===arguments.length&&"object"==typeof b)for(a in b)b.hasOwnProperty(a)===!0&&(j[a]=b[a]);else 2===arguments.length&&(j[arguments[0]]=arguments[1])},h=0,i=k.length;h<i;h+=1){if(e=k[h],f=e.info?e.info.name:e.name,d[f]!==b)throw new Error('Plugin with the name "'+f+'" already loaded.');"function"==typeof e?e(d):"object"==typeof e&&e.load(d,c)}return d}c=function(){return new function(){}}(),c.version="1.1.0",c.create=function(a){return d(a)}}(this),c.environment=function(){function a(){this.commonJS="undefined"!=typeof module&&"object"==typeof module.exports,this.amd="undefined"!=typeof define&&"object"==typeof define.amd,this.browser="undefined"!=typeof window&&"object"==typeof window.document}return new a}(),c.plugins=function(){function a(){}var c=[];return a.prototype={register:function(a){var d=a.info?a.info.name:a.name;if("function"==typeof a||"object"==typeof a){if(d===b)throw new Error("Missing plugin name.");return void c.push(a)}throw new Error("Invalid plugin type.")},getNames:function(){var a,b,d,e=[];for(b=0,d=c.length;b<d;b+=1)a=c[b],e.push(a.name);return e},toArray:function(){return c.slice()}},new a}(),c.typeHandlers=function(){function a(){}var b={};return a.prototype={register:function(a){if("object"==typeof a)return void(b[a.type]=a);throw new Error("Invalid typeHandler.")},get:function(a){return b[a]},getTypes:function(){var a,c=[];for(a in b)b.hasOwnProperty(a)&&c.push(a);return c}},new a}(),function(a,b){function d(a,c){var d={func:function(a){return"function"==typeof a||a instanceof Function==!0},string:function(a){return"string"==typeof a||a instanceof String==!0},number:function(a){return"number"==typeof a||a instanceof Number==!0},primitive:function(a){return d.string(a)||d.number(a)},undef:function(a){return a===b},nullOrUndef:function(a){return a===b||null===a},date:function(a){return a instanceof Date==!0},regExp:function(a){return a instanceof RegExp==!0},plainObject:function(a){return a!==b&&null!==a&&("object"==typeof a&&a.constructor===Object)},concreteObject:function(a){return(d.primitive(a)||d.date(a)||d.regExp(a)||d.nullOrUndef(a)||d.array(a))===!1},array:function(a){return a instanceof Array},inBrowser:function(){return a.environment.browser}};a.is=d}c.plugins.register(d)}(this),function(a,b){function e(a){function e(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);return a.prototype=d(b.prototype),a.prototype.constructor=a,a.prototype}function f(a){var b,d,e,f,g=c.typeHandlers.getTypes();for(e=0,f=g.length;e<f;e+=1)b=g[e],d=c.typeHandlers.get(b),d.setup&&d.setup(a)}var g,h=/xyz/.test(function(){xyz})?/\bbase\b/:/.*/,i=a.config("defaultBaseClass"),j=a.config("requireNew",!1);g=function(d,k){function l(b){var c=Object.keys(p);return!b&&a.is.func(k.getMembers)?c.concat(k.getMembers()):c}function m(b){var c;return b in p?c=p[b]:a.is.func(k.getMemberInfo)&&(c=k.getMemberInfo(b)),a.is.plainObject(c)&&"type"in c?c:null}var n,o,p={},q=Object.create,r=Object.prototype.hasOwnProperty;return k=a[i]!==b?k||a[i]:k||Object,d=d||{},o=j?function(){if(this instanceof o==!1)throw new Error("constructorFn used as function.");this.init!==b&&this.init.apply(this,arguments)}:function(){var a=null;return this instanceof o==!1?(a=q(o.prototype),a.init!==b&&a.init.apply(a,arguments),a):void(this.init!==b&&this.init.apply(this,arguments))},n=e(o,k),o.attach=function(d){var e,f,g,i,j,l;for(j in d)r.call(d,j)&&(e=d[j],f=typeof e,g=e,i=!1,a.is.plainObject(e)?(l=c.typeHandlers.get(e.type),l!==b&&l.handler!==b&&(l.handler(o,j,e),i=!0)):"function"===f&&"function"==typeof k.prototype[j]&&h.test(e)&&(n[j]=function(a,c){var d=k;return function(){this.base=d.prototype[a];var e=c.apply(this,arguments);return this.base=b,e}}(j,e),i=!0),i||(n[j]=g)),p[j]=e},o.extend=function(a){return g(a,o)},o.getMemberInfo=function(a){a in metaObj},f(o),o.attach(d),o.getMember=function(a){return m(a)},o.getMemberNames=function(a){return l(a)},o},a.Class=function(){return g.apply(null,arguments)}}c.plugins.register(e)}(a),function(a,b){function d(a){var b=function(a,b){return{type:"attribute",defaultValue:a,meta:b}};a.attribute=b,a.attr=b,c.typeHandlers.register({type:"attribute",handler:function(a,b,c){var d=a.prototype;d[b]=c.defaultValue}})}c.plugins.register(d)}(this),function(a,b){function d(a){a.event=function(a){return{type:"event",config:a}},c.typeHandlers.register({type:"event",setup:function(c){var d=c.prototype,f={},g=[];d.on=function(c,d){var h,i,j,k,l=c.toLowerCase().split(" ");if(!a.is.func(d))throw new Error("Invalid handler!");for(h=0,i=l.length;h<i;h+=1)j=e(l[h]),k="_"+j,this[k]===b&&(this[k]=[]),this[k].push(d),f[j]===b&&(g.push(j),f[j]=!0);return this},d.trigger=function(a,c){var d,e,f=this["_"+a.toLowerCase()];if(f===b||0===f.length)return this;for(c=c||{},c.eventName=a,e=0;e<f.length&&(d=f[e],d.call(this,c)!==!1);e+=1);return this},d.off=function(a,c){var d,e=this["_"+a.toLowerCase()];if(e!==b)return c===b?(e.length=0,this):(d=e.indexOf(c),d!==-1&&e.splice(d,1),this)},d.unsubscribeAll=function(){var a,b=g,c=b.length;for(a=0;a<c;a+=1)this.off(b[a]);return this},d.subscribers=function(a){var b=this["_"+a.toLowerCase()];return b?b.slice():[]}},handler:function(a,b){var c=a.prototype;c[b]=function(a){return this.on(b,a),this},c[b].event=!0}})}c.plugins.register(d)}(this),function(a,b){function d(a){var b=function(a){return{type:"callback",meta:a}};a.callback=b,c.typeHandlers.register({type:"callback",handler:function(a,b,c){var d=a.prototype;d[b]=null}})}c.plugins.register(d)}(this),function(a,b){function d(a){function d(a,c,d,e){if(e=e||function(){throw new Error('Cannot assign to readonly property "'+c+'".')},Object.defineProperty)Object.defineProperty(a,c,{enumerable:!0,configurable:!0,get:d,set:e});else{if(a.__defineGetter__===b)throw new Error("Properties are not supported in current environment.");a.__defineGetter__(c,d),a.__defineSetter__(c,e)}}function e(a,b,c){d(a,b,c)}var f,g,h;f=function(c,d){var e,f;return a.is.plainObject(c)?(f=c.value,a.is.func(c.get)&&(e=c.get)):f=c,{type:"readonly",value:f,readonly:!0,get:e,set:b,meta:d}},g=function(b,c){var d,e,g;if(a.is.plainObject(b)){if(d=b.value,e=b.get,g=b.set,e&&!g)return f(b)}else d=b;return{type:"property",readonly:!1,value:d,get:e,set:g,meta:c}},h=function(a,c,e){var f,g,h=a.prototype,i=e.readonly,j=e.get,k=e.set,l="_"+c,m=e.value;i?f=j!==b?j:function(){return this[l]}:(f=j||function(){return this[l]},g=k||function(a){this[l]=a}),m!==b&&(h[l]=m),d(h,c,f,g)},a.attachProperty=d,a.attachReadonly=e,a.property=g,a.readonly=f,c.typeHandlers.register({type:"property",handler:h}),c.typeHandlers.register({type:"readonly",handler:h})}c.plugins.register(d)}(this),function(a,b){function d(a,c,d,e){if(Object.defineProperty)Object.defineProperty(a,c,{enumerable:!0,configurable:!0,get:d,set:e});else{if(a.__defineGetter__===b)throw new Error("Properties are not supported in current environment.");a.__defineGetter__(c,d),a.__defineSetter__(c,e)}}function e(a,b){return{type:"observable",value:a,config:b}}function f(a){a.observable=e,c.typeHandlers.register({type:"observable",setup:function(b){var c=b.prototype;c.set=function(){var a,b,c,d,e=arguments[0],f={};if(1===arguments.length&&"object"==typeof e)for(a in e)e.hasOwnProperty(a)===!0&&this[a]!==e[a]&&(b="_"+a,c=this[a],d=e[a],this[b]=d,f[a]={oldValue:c,newValue:d});else 2===arguments.length&&(a=arguments[0],b="_"+a,c=this[a],d=arguments[1],c!==d&&(this[b]=d,f[a]={oldValue:c,newValue:d}));return this.onChange(f),this},c.onChange=function(a){return this.trigger("change",{changed:a}),this},b.attach({change:a.event()})},handler:function(a,b,c){var e,f,g=a.prototype,h="_"+b;g[h]=c.value,e=function(){return this[h]},f=function(a){var c,d=this[h];d!==a&&(this[h]=a,c={},c[b]={oldValue:d,newValue:a},this.onChange(c))},d(g,b,e,f)}})}c.plugins.register(f)}(this),c.environment.commonJS?module.exports=c:c.environment.amd?define(function(){return c}):a.FrameworkFactory=c,c}(this);